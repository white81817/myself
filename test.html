<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é é¢è¡ŒéŠ·è¦åŠƒç³»çµ± - æ¸¬è©¦é é¢</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .test-controls {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            z-index: 2000;
            max-width: 300px;
        }
        
        .test-controls h4 {
            margin-bottom: 1rem;
            color: #ffd700;
        }
        
        .test-btn {
            display: block;
            width: 100%;
            margin: 0.5rem 0;
            padding: 0.5rem;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .test-btn:hover {
            background: #0056b3;
        }
        
        .test-btn.danger {
            background: #dc3545;
        }
        
        .test-btn.danger:hover {
            background: #c82333;
        }
        
        .test-btn.success {
            background: #28a745;
        }
        
        .test-btn.success:hover {
            background: #218838;
        }
        
        .status {
            margin-top: 1rem;
            padding: 0.5rem;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .status-item {
            margin: 0.25rem 0;
        }
        
        .status-label {
            font-weight: bold;
            color: #ffd700;
        }
        
        .status-value {
            color: #90EE90;
        }
    </style>
</head>
<body>
    <!-- æ¸¬è©¦æ§åˆ¶é¢æ¿ -->
    <div class="test-controls">
        <h4>ğŸ§ª æ¸¬è©¦æ§åˆ¶é¢æ¿</h4>
        
        <button class="test-btn" onclick="triggerWelcomePopup()">è§¸ç™¼æ­¡è¿å½ˆçª—</button>
        <button class="test-btn" onclick="triggerUrgencyBar()">è§¸ç™¼ç·Šæ€¥æ¢</button>
        <button class="test-btn" onclick="triggerExitPopup()">è§¸ç™¼é€€å‡ºå½ˆçª—</button>
        <button class="test-btn" onclick="simulateAddToCart()">æ¨¡æ“¬åŠ å…¥è³¼ç‰©è»Š</button>
        <button class="test-btn" onclick="resetCountdown()">é‡ç½®å€’æ•¸è¨ˆæ™‚å™¨</button>
        
        <button class="test-btn danger" onclick="clearAllData()">æ¸…é™¤æ‰€æœ‰è³‡æ–™</button>
        <button class="test-btn success" onclick="showStatus()">é¡¯ç¤ºç‹€æ…‹</button>
        <button class="test-btn" onclick="showAnalytics()">é¡¯ç¤ºåˆ†æ</button>
        <button class="test-btn" onclick="exportData()">åŒ¯å‡ºè³‡æ–™</button>
        
        <div class="status" id="status-display" style="display: none;">
            <div class="status-item">
                <span class="status-label">é é¢åœç•™æ™‚é–“:</span>
                <span class="status-value" id="time-status">0 ç§’</span>
            </div>
            <div class="status-item">
                <span class="status-label">å·²è§¸ç™¼æ­¡è¿å½ˆçª—:</span>
                <span class="status-value" id="welcome-status">å¦</span>
            </div>
            <div class="status-item">
                <span class="status-label">å·²è§¸ç™¼ç·Šæ€¥æ¢:</span>
                <span class="status-value" id="urgency-status">å¦</span>
            </div>
            <div class="status-item">
                <span class="status-label">å·²è§¸ç™¼é€€å‡ºå½ˆçª—:</span>
                <span class="status-value" id="exit-status">å¦</span>
            </div>
            <div class="status-item">
                <span class="status-label">å·²åŠ å…¥è³¼ç‰©è»Š:</span>
                <span class="status-value" id="cart-status">å¦</span>
            </div>
            <div class="status-item">
                <span class="status-label">å€’æ•¸è¨ˆæ™‚å™¨ç‹€æ…‹:</span>
                <span class="status-value" id="countdown-status">æœªå•Ÿå‹•</span>
            </div>
        </div>
    </div>

    <!-- æ¨¡æ“¬ç¶²ç«™å…§å®¹ -->
    <div class="website-content">
        <header>
            <h1>æ¸¬è©¦é é¢ - é é¢è¡ŒéŠ·è¦åŠƒç³»çµ±</h1>
            <nav>
                <a href="#home">é¦–é </a>
                <a href="#products">å•†å“</a>
                <a href="#about">é—œæ–¼æˆ‘å€‘</a>
                <a href="#contact">è¯çµ¡æˆ‘å€‘</a>
            </nav>
        </header>
        
        <main>
            <section class="hero">
                <h2>æ­¡è¿ä¾†åˆ°æ¸¬è©¦é é¢</h2>
                <p>é€™å€‹é é¢ç”¨æ–¼æ¸¬è©¦é é¢è¡ŒéŠ·è¦åŠƒç³»çµ±çš„å„é …åŠŸèƒ½</p>
                <div style="margin-top: 2rem; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
                    <h3>æ¸¬è©¦èªªæ˜ï¼š</h3>
                    <ul style="margin-top: 1rem; text-align: left;">
                        <li>æ­¡è¿å½ˆçª—æœƒåœ¨ 15-30 ç§’å¾Œè‡ªå‹•è§¸ç™¼</li>
                        <li>ç·Šæ€¥æ¢æœƒåœ¨åœç•™ 45 ç§’æˆ–åŠ å…¥è³¼ç‰©è»Šå¾Œè§¸ç™¼</li>
                        <li>é€€å‡ºå½ˆçª—æœƒåœ¨æ»‘é¼ ç§»åˆ°ç€è¦½å™¨ä¸Šæ–¹æ™‚è§¸ç™¼</li>
                        <li>å€’æ•¸è¨ˆæ™‚å™¨æœƒæŒçºŒ 10 åˆ†é˜ï¼Œåˆ·æ–°é é¢ä¸æœƒé‡ç½®</li>
                        <li>ä½¿ç”¨å³ä¸Šè§’çš„æ§åˆ¶é¢æ¿å¯ä»¥æ‰‹å‹•è§¸ç™¼å„é …åŠŸèƒ½</li>
                    </ul>
                </div>
            </section>
            
            <section class="products">
                <h3>æ¸¬è©¦å•†å“</h3>
                <div class="product-grid">
                    <div class="product-card">
                        <img src="https://via.placeholder.com/200x200/ff6b6b/ffffff?text=å•†å“1" alt="å•†å“1">
                        <h4>æ¸¬è©¦å•†å“ 1</h4>
                        <p class="price">NT$ 1,000</p>
                        <button class="add-to-cart">åŠ å…¥è³¼ç‰©è»Š</button>
                    </div>
                    <div class="product-card">
                        <img src="https://via.placeholder.com/200x200/4ecdc4/ffffff?text=å•†å“2" alt="å•†å“2">
                        <h4>æ¸¬è©¦å•†å“ 2</h4>
                        <p class="price">NT$ 1,500</p>
                        <button class="add-to-cart">åŠ å…¥è³¼ç‰©è»Š</button>
                    </div>
                    <div class="product-card">
                        <img src="https://via.placeholder.com/200x200/45b7d1/ffffff?text=å•†å“3" alt="å•†å“3">
                        <h4>æ¸¬è©¦å•†å“ 3</h4>
                        <p class="price">NT$ 2,000</p>
                        <button class="add-to-cart">åŠ å…¥è³¼ç‰©è»Š</button>
                    </div>
                </div>
            </section>
            
            <section style="margin-top: 3rem; padding: 2rem; background: white; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                <h3>åŠŸèƒ½æ¸¬è©¦å€åŸŸ</h3>
                <p>é€™å€‹å€åŸŸç”¨æ–¼æ¸¬è©¦å„ç¨®äº’å‹•åŠŸèƒ½ï¼š</p>
                <div style="margin-top: 1rem;">
                    <button class="add-to-cart" style="margin-right: 1rem;">æ¸¬è©¦åŠ å…¥è³¼ç‰©è»Š</button>
                    <button onclick="scrollToTop()" style="padding: 0.75rem 1.5rem; background: #28a745; color: white; border: none; border-radius: 25px; cursor: pointer;">æ»¾å‹•åˆ°é ‚éƒ¨</button>
                </div>
            </section>
        </main>
    </div>

    <!-- é€²ç«™éšæ®µ Popup (15-30ç§’å¾Œè§¸ç™¼) -->
    <div id="welcome-popup" class="popup-overlay">
        <div class="popup-content">
            <div class="popup-header">
                <h3>ğŸ é¦–è³¼å„ªæƒ ï¼ç«‹å³ç¶å®š LINE æ‹¿ $50 æŠ˜æ‰£</h3>
                <button class="close-btn" onclick="closePopup('welcome-popup')">&times;</button>
            </div>
            <div class="popup-body">
                <p>æ­¡è¿ä¾†åˆ°æˆ‘å€‘çš„å•†åº—ï¼ç¶å®š LINE å³å¯ç²å¾— $50 æŠ˜æ‰£åˆ¸ï¼Œç«‹å³äº«å—å„ªæƒ è³¼ç‰©é«”é©—ã€‚</p>
                <div class="benefits">
                    <div class="benefit-item">âœ“ ç«‹å³ç²å¾— $50 æŠ˜æ‰£åˆ¸</div>
                    <div class="benefit-item">âœ“ å°ˆå±¬å„ªæƒ é€šçŸ¥</div>
                    <div class="benefit-item">âœ“ 24/7 å®¢æœæ”¯æ´</div>
                </div>
            </div>
            <div class="popup-footer">
                <button class="cta-btn primary" onclick="bindLine()">ç«‹å³é ˜å–ï¼Œä¸€éµç¶å®š LINE</button>
                <button class="cta-btn secondary" onclick="closePopup('welcome-popup')">ç¨å¾Œå†èªª</button>
            </div>
        </div>
    </div>

    <!-- åœç•™/äº’å‹•éšæ®µ åº•éƒ¨æ¢ (45ç§’å¾Œè§¸ç™¼) -->
    <div id="urgency-bar" class="urgency-bar">
        <div class="urgency-content">
            <div class="urgency-text">
                <h4>ğŸ”¥ é™æ™‚å„ªæƒ ï¼å¿«é–ƒæŠ˜æ‰£</h4>
                <p>ç¾åœ¨çµå¸³ï¼Œäº«å…é‹å„ªæƒ </p>
            </div>
            <div class="countdown-container">
                <span class="countdown-label">å„ªæƒ å€’æ•¸ï¼š</span>
                <div class="countdown-timer" id="countdown-timer">
                    <span id="minutes">10</span>:<span id="seconds">00</span>
                </div>
            </div>
            <div class="urgency-actions">
                <button class="cta-btn primary" onclick="goToCheckout()">ç«‹å³çµå¸³</button>
                <button class="close-btn" onclick="closeUrgencyBar()">&times;</button>
            </div>
        </div>
    </div>

    <!-- é›¢ç«™éšæ®µ Popup (Exit Intent) -->
    <div id="exit-popup" class="popup-overlay">
        <div class="popup-content">
            <div class="popup-header">
                <h3>ç­‰ç­‰ï¼å¸¶èµ°ä½ çš„å°ˆå±¬å„ªæƒ  ğŸ‰</h3>
                <button class="close-btn" onclick="closePopup('exit-popup')">&times;</button>
            </div>
            <div class="popup-body">
                <p>åˆ¥æ€¥è‘—é›¢é–‹ï¼è¼¸å…¥ email æˆ–ç¶å®š LINEï¼Œå³å¯ç²å¾— $100 æŠ˜æ‰£åˆ¸ï¼Œè®“ä½ çš„è³¼ç‰©æ›´åˆ’ç®—ã€‚</p>
                <div class="form-container">
                    <input type="email" id="exit-email" placeholder="è«‹è¼¸å…¥æ‚¨çš„ email" class="email-input">
                    <div class="or-divider">æˆ–</div>
                    <button class="cta-btn line-btn" onclick="bindLineExit()">ç¶å®š LINE é ˜å–</button>
                </div>
                <div class="benefits">
                    <div class="benefit-item">âœ“ ç«‹å³ç²å¾— $100 æŠ˜æ‰£åˆ¸</div>
                    <div class="benefit-item">âœ“ å…é‹è²»å„ªæƒ </div>
                    <div class="benefit-item">âœ“ å°ˆå±¬æœƒå“¡ç¦åˆ©</div>
                </div>
            </div>
            <div class="popup-footer">
                <button class="cta-btn primary" onclick="claimDiscount()">é ˜å–æŠ˜æ‰£ï¼Œç¹¼çºŒé€›é€›</button>
                <button class="cta-btn secondary" onclick="closePopup('exit-popup')">ä¸éœ€è¦ï¼Œç›´æ¥é›¢é–‹</button>
            </div>
        </div>
    </div>

    <!-- å¼•å…¥åˆ†é›¢çš„ JavaScript æª”æ¡ˆ -->
    <script src="welcome-popup.js"></script>
    <script src="urgency-bar.js"></script>
    <script src="exit-popup.js"></script>
    <script src="main.js"></script>
    <script>
        // æ¸¬è©¦åŠŸèƒ½å‡½æ•¸
        function triggerWelcomePopup() {
            if (window.welcomePopup) {
                window.welcomePopup.triggerManually();
            }
        }
        
        function triggerUrgencyBar() {
            if (window.urgencyBar) {
                window.urgencyBar.triggerManually();
            }
        }
        
        function triggerExitPopup() {
            if (window.exitPopup) {
                window.exitPopup.triggerManually();
            }
        }
        
        function simulateAddToCart() {
            if (window.urgencyBar) {
                window.urgencyBar.tracking.hasAddedToCart = true;
                window.urgencyBar.checkTrigger();
                alert('å·²æ¨¡æ“¬åŠ å…¥è³¼ç‰©è»Šï¼');
            }
        }
        
        function resetCountdown() {
            if (window.urgencyBar) {
                window.urgencyBar.resetCountdown();
                alert('å€’æ•¸è¨ˆæ™‚å™¨å·²é‡ç½®ç‚º 10 åˆ†é˜ï¼');
            }
        }
        
        function clearAllData() {
            if (confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰è³‡æ–™å—ï¼Ÿé€™æœƒé‡ç½®æ‰€æœ‰ç‹€æ…‹ã€‚')) {
                sessionStorage.clear();
                localStorage.clear();
                location.reload();
            }
        }
        
        function showStatus() {
            const statusDisplay = document.getElementById('status-display');
            if (window.marketingSystem) {
                const status = window.marketingSystem.getSystemStatus();
                document.getElementById('time-status').textContent = (status.modules.welcome?.timeOnPage || 0) + ' ç§’';
                document.getElementById('welcome-status').textContent = status.modules.welcome?.hasTriggered ? 'æ˜¯' : 'å¦';
                document.getElementById('urgency-status').textContent = status.modules.urgency?.hasTriggered ? 'æ˜¯' : 'å¦';
                document.getElementById('exit-status').textContent = status.modules.exit?.hasTriggered ? 'æ˜¯' : 'å¦';
                document.getElementById('cart-status').textContent = status.modules.urgency?.hasAddedToCart ? 'æ˜¯' : 'å¦';
                document.getElementById('countdown-status').textContent = status.countdown?.isActive ? 'é‹è¡Œä¸­' : 'æœªå•Ÿå‹•';
                
                statusDisplay.style.display = statusDisplay.style.display === 'none' ? 'block' : 'none';
            }
        }
        
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // å®šæœŸæ›´æ–°ç‹€æ…‹é¡¯ç¤º
        setInterval(() => {
            if (window.marketingSystem && document.getElementById('status-display').style.display === 'block') {
                showStatus();
            }
        }, 1000);
        
        // æ–°å¢æ¸¬è©¦æŒ‰éˆ•
        function showAnalytics() {
            if (window.marketingSystem) {
                const analytics = window.marketingSystem.getAnalytics();
                console.log('åˆ†æè³‡æ–™:', analytics);
                alert('åˆ†æè³‡æ–™å·²è¼¸å‡ºåˆ°æ§åˆ¶å°ï¼Œè«‹æŒ‰ F12 æŸ¥çœ‹');
            }
        }
        
        function exportData() {
            if (window.marketingSystem) {
                window.marketingSystem.exportData();
            }
        }
    </script>
</body>
</html>
